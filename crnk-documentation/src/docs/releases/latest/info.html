The 2.7 release focuses on various usability improvements. Some further updates will be released in the coming weeks.


<h4>use of Jackson to parse filter parameters</h4>

The TypeParser now also makes use of Jackson to deserialize parameters (next to already built-in and custom parsers).
The behavior can also be disabled by setting:

<pre class="prettyprint">
 TypeParser.setUseJackson(false).
</pre>

<h4>INFO log message on startup</h4>

that summarizes the setup of Crnk.

<pre class="prettyprint">
09:24:37 INFO  [ost-startStop-1] [    io.crnk.core.boot.CrnkBoot] crnk initialized: numResources=26, usedModules=[jackson, servlet, home, jpa, meta, operations, spring.mvc, ui, validation], securityProviders=[ServletSecurityProvider], pagingBehaviors=[OffsetLimitPagingBehavior], urlMapper=UrlMapperAdapter, serviceDiscovery=SpringServiceDiscovery
</pre>


<h4>CDIServiceDiscovery backs-off in non-CDI environments</h4>

The CDIServiceDiscovery of crnk-cdi no longer fails if no CDI context is available. Instead an ERROR is added to the LOG.


<h4>QuerySpec mapping support JPA/DTO mapping</h4>

The JpaMapper interface has a new (default) method to map DTO-based QuerySpec to Entity-based QuerySpec instances:

<pre class="prettyprint">
default QuerySpec unmapQuerySpec(QuerySpec querySpec) {
	return querySpec;
}
</pre>

It can be used to map filter, inclusion and sort parameters in the same fashion as the DTO/entitiy objects themselves.


<h4>Multiple SecurityProviders</h4>

Modules can now register multiple SecurityProvider providing roles to users.


<h4>Simplified Typescript Generation</h4>

The configuration of the Typescript generation has been stream-lined:

<pre class="prettyprint">
typescriptGen{
	runtime {
		...
	}

	npm {
		// map given Java package to a subdirectory of genDir
		directoryMapping['io.myapp.types'] = '/types'

		// map a given package to a third-party library
		packageMapping['io.other.app'] = '@other/app'
	}

	...
}

</pre>

<ul>
	<li>Package generation is disabled by default. It is no longer necessary to specify a package name.</li>
	<li>
		Objects of unknown type get generated into the root directory. Directory mappings (see above) can be used to control the
		placement of objects
		into directories.
	</li>
	<li>
		Package mappings can be used to reference resources from third-party packages.
	</li>
	<li>
		Meta-related resources from crnk-meta are not generated by default. They can be obtained from the @crnk/angular-ngrx library.
	</li>
</ul>

Along the way support to generate complete NPM packages has been deprecated since it has been rarely used and
typically application may want to setup a custom NPM package anyway.

For more information see
<a href="http://www.crnk.io/releases/stable/documentation/#_typescript">here</a>.


<h4>Hardened URL computation for crnk-servlet</h4>

The CrnkServlet can be integrated into many different environments, but not all of them behave exactly the same. Sometimes this could lead
to a broken URL computation that needed to be fixed/overridden manually. The revised implementation is more robust
against missing slashes and allow to override a broken servlet path with the <i>crnk.config.web.path.prefix</i> property
or <i>CrnkBoot.setWebPathPrefix(...)</i>.


<h4>Lazy Initialization of CrnkClient</h4>

CrnkClient performs more of its initialization in a lazy fashion (in CrnkClient.init). This allows to reconfigure more aspects of CrnkClient, such as
paging behavior and service discovery.

